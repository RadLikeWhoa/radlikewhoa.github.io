{"data":{"site":{"siteMetadata":{"siteUrl":"https://sacha.me"}},"markdownRemark":{"html":"<style>\n\t.demo-wrapper {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\theight: 15em;\n\t\tpadding: 1.5em;\n\t\tmargin-bottom: 1.5em;\n\t}\n\n  .demo-element {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmax-width: 15em;\n\t\tcolor: #fff;\n\t\ttext-align: center;\n\t\tborder-radius: 3px;\n\t\tbox-shadow: 0 2px 4px rgba(51, 51, 51, 0.25);\n\t\toverflow: hidden;\n\t}\n\n\t.demo-element p {\n\t\tmargin: 1.5em;\n\t}\n\n\t.demo-auto {\n\t\tbackground-color: #4cadeb;\n\t\tanimation: height-auto 3s ease-in-out infinite both alternate;\n\t}\n\n\t.demo-max {\n\t\tbackground-color: #eb894c;\n\t\tanimation: height-max 3s ease-in-out infinite both alternate;\n\t}\n\n\t@keyframes height-auto {\n\t\t0% {\n\t\t\theight: 0;\n\t\t}\n\n\t\t100% {\n\t\t\theight: auto;\n\t\t}\n\t}\n\n\t@keyframes height-max {\n\t\t0% {\n\t\t\tmax-height: 0;\n\t\t}\n\n\t\t100% {\n\t\t\tmax-height: 15em;\n\t\t}\n\t}\n</style>\n<p>Very often, applications rely on some kind of slide effect when toggling an element. This is quite common with things like accordions, where clicking on a heading toggles the following section open and closes all other sections. There you expect the opening section to start with a height of 0, and then expand to its full height. This state transformation is usually handled with a quick transition of the <code class=\"language-text\">height</code> property, in order to make the change less jarring to the user.</p>\n<p>This all works fine when all sections have the same height. Then you can directly transition from <code class=\"language-text\">height: 0;</code> to <code class=\"language-text\">height: xy;</code>. If you don't know the sections height in advance, you might be tempted to transition to <code class=\"language-text\">height: auto;</code>, which doesn't really work.</p>\n<div class=\"demo-wrapper\">\n\t<div class=\"demo-element demo-auto\"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis at purus consequat, fringilla turpis vel, blandit mi.</p></div>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> height-auto</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">0%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">100%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The above example uses the <code class=\"language-text\">height-auto</code> animation. Clearly, no animation is happening. This is due to the fact that browsers can't handle the <code class=\"language-text\">auto</code> value. Now, the trick is to forget about <code class=\"language-text\">height</code> altogether, and instead focus on <code class=\"language-text\">max-height</code>.</p>\n<div class=\"demo-wrapper\">\n\t<div class=\"demo-element demo-max\"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis at purus consequat, fringilla turpis vel, blandit mi.</p></div>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> height-max</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">0%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">max-height</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">100%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">max-height</span><span class=\"token punctuation\">:</span> 15em<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The above example uses the <code class=\"language-text\">height-max</code> animation. Immediately, you'll notice that the box is now animated, yay! We don't need to know the element's actual height in advance, all we need is an estimate as to what the height could be.</p>\n<p>What you want to do is animate to a <code class=\"language-text\">max-height</code> that you expect to be larger than your element. Of course, this involves a bit of guessing, but in many cases you'll be able to make those guesses pretty accurately. This way, you can handle multiple different elements and still have all of them take up just the space they need.</p>","frontmatter":{"date":"18 October 2017","path":"/articles/height-animation","title":"Quick Tip: Animating height: auto;"}}},"pageContext":{}}